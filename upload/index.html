<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>图片上传</title>
</head>
<body>
<input type="file" id="upload">
<script>
  // 获取input标签的dom
  var input = document.getElementById('upload');
  // 监听变化
  input.addEventListener('change', function (e) {
    // 获取到上传的file对象
    var file = input.files[0];
    // 声明formData实例formData
    var formData = new FormData();
    // 添加实例属性file
    formData.append('file', file);
    // 调用服务端上传接口
    fetch('http://127.0.0.1:7002/api/upload', {
      method: 'POST',
      data: formData
    }).then(res => {
      if (res.ok) {
        console.log('success');
        return res.json()
      } else {
        console.log('error');
      }
    }).then(res => {
      console.log(res)
    })
  })
</script>
</body>
</html>